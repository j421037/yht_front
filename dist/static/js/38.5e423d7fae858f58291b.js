webpackJsonp([38],{"43fI":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),r=a.n(o),s={data:function(){return{showAddDialog:!1,form:{id:"",name:""},rules:{name:[{required:!0,message:"请输入文章名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 6 个字符",trigger:"blur"}]},defaultForm:{},update:!1}},methods:{init:function(){this.loadTable(),this.defaultForm=JSON.parse(r()(this.form))},loadTable:function(){this.$store.dispatch("ArticleCategory").then(function(){})},submit:function(){var t=this;this.$refs.form.validate(function(e){if(e){var a="ArticleCategoryPost";t.update&&(a="ArticleCategoryPut"),t.$store.dispatch(a,t.form).then(function(){var e=t.$store.state.user.ArticleCategoryPost;t.update&&(e=t.$store.state.user.ArticleCategoryPut),"success"==e.status?(t.loadTable(),t.$notify.success("操作成功"),t.showAddDialog=!1,t.update=!1,t.resetForm()):t.$notify.error("操作失败")})}})},handleEidt:function(t,e){this.showAddDialog=!0,this.update=!0,this.form.id=t,this.form.name=e},resetForm:function(){for(var t in this.defaultForm)this.form[t]=this.defaultForm[t]}},created:function(){this.init()},computed:{tableData:function(){return this.$store.state.user.ArticleCategory}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-wallper"},[a("div",{staticClass:"table-tool"},[a("p",[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.showAddDialog=!0}}},[t._v("添加文章分类")])],1)]),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user",label:"添加人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created",label:"添加时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success"},nativeOn:{click:function(a){t.handleEidt(e.row.id,e.row.name)}}},[t._v("\n\t\t      \t\t\t编辑\n\t\t      \t\t")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加文章分类",visible:t.showAddDialog},on:{"update:visible":function(e){t.showAddDialog=e},close:t.resetForm}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"分类名称","label-width":"120px",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showAddDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,l,!1,function(t){a("K4t4")},"data-v-0e93ecdf",null);e.default=i.exports},K4t4:function(t,e){}});