webpackJsonp([30],{GTxk:function(t,e){},UhRA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{total:0,loading:!1,btnDisable:!1,manual:0}},methods:{query:function(t){var e=this;this.loading=!0,this.$store.dispatch("getCustomer",t).then(function(){e.loading=!1})},receiveCustomer:function(t){var e=this;this.btnDisable=!0,this.$confirm("认领客户 <"+t.name+">","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.receive(t.id)}).catch(function(){e.btnDisable=!1})},receive:function(t){var e=this;this.$store.dispatch("receiveCustomer",{id:t}).then(function(){"success"==e.$store.state.user.receiveStatus.status?(e.$notify.success({title:"操作成功",message:"请到 <我的客户> 中查看信息"}),++e.manual):e.$notify.error({title:"操作失败",message:e.$store.state.user.receiveStatus.error}),e.btnDisable=!1})}},computed:{customers:function(){var t=this.$store.state.user.customerList;return t.total&&(this.total=t.total),t.data}},components:{pagination:function(){return n.e(53).then(n.bind(null,"g32C"))}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"public-customer"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.customers,border:"",strip:"",height:"80%"}},[n("el-table-column",{attrs:{type:"index"}}),t._v(" "),n("el-table-column",{attrs:{label:"客户",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.province))]),t._v(" \n                "),n("span",[t._v(t._s(e.row.city))]),t._v(" \n                "),n("span",[t._v(t._s(e.row.area))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"需求",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{placement:"top-start",title:"需求",width:"200",trigger:"hover",content:e.row.demand}},[e.row.demand?n("a",{attrs:{slot:"reference",href:"javascript:void(0)"},slot:"reference"},[t._v(t._s(e.row.demand.substring(0,20))+"...")]):t._e()])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"发布时间",prop:"time"}}),t._v(" "),n("el-table-column",{attrs:{label:"领取次数",prop:"recount"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(n){t.receiveCustomer(e.row)}}},[t._v("领取")])]}}])})],1),t._v(" "),n("pagination",{attrs:{total:t.total,handle:t.query,refresh:t.manual}})],1)},staticRenderFns:[]};var s=n("VU/8")(a,r,!1,function(t){n("GTxk")},"data-v-60286b4d",null);e.default=s.exports}});